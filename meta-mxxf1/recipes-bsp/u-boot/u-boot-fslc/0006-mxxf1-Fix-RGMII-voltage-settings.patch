From 2661e64c8b1c62b4558c58514eb116262e7f5457 Mon Sep 17 00:00:00 2001
From: Hans Christian Lonstad <hcl@datarespons.no>
Date: Wed, 29 Apr 2020 15:51:26 +0200
Subject: [PATCH 6/6] mxxf1: Fix RGMII voltage settings

Phy runs on 1.5V
---
 board/datarespons/mxxf1/mxxf1.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/board/datarespons/mxxf1/mxxf1.c b/board/datarespons/mxxf1/mxxf1.c
index 91d8ed02bf..7e06da439e 100644
--- a/board/datarespons/mxxf1/mxxf1.c
+++ b/board/datarespons/mxxf1/mxxf1.c
@@ -10,6 +10,7 @@
 #include <asm/arch/imx-regs.h>
 #include <asm/arch/iomux.h>
 #include <asm/arch/mx6-pins.h>
+#include <asm/arch/sys_proto.h>
 #include <asm/mach-imx/sata.h>
 #include <errno.h>
 #include <asm/gpio.h>
@@ -1124,8 +1125,10 @@ void board_init_f(ulong dummy)
 		udelay(10000);
 	}
 
-	/* DDR initialization */
+	/* Set RGMII voltage to 1.5V */
+	iomuxc_set_rgmii_io_voltage(0xC0000);
 
+	/* DDR initialization */
 
 	spl_dram_init();
 #ifdef DYNAMIC_CALIB
-- 
2.20.1

